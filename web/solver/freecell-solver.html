<!-- Copyright 2014 The Chromium Authors. All rights reserved.
     Use of this source code is governed by a BSD-style license that can be
     found in the LICENSE file. -->

<link rel="import" href="../packages/polymer/polymer.html">

<script src="libfreecell-solver.min.js"></script>
<script src="freecell-solver.js"></script>

<polymer-element name="freecell-solver" attributes="board solution">
  <script>
    Polymer({
      boardChanged: function() {
        if (!this.board) {
          this.solution = null;
          return;
        }
        freecell.solve(this.board).then(function(solution) {
          this.solution = solution;
        }.bind(this), function(error) {
          this.solution = null;
          console.log('stack' in error ? error.stack : error);
        });
      },
    });
  </script>
</polymer-element>
